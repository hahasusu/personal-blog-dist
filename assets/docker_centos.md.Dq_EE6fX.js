import{_ as s,c as a,o as i,a4 as e}from"./chunks/framework.BE4fazHS.js";const F=JSON.parse('{"title":"docker 安装 centos","description":"","frontmatter":{},"headers":[],"relativePath":"docker/centos.md","filePath":"docker/centos.md"}'),t={name:"docker/centos.md"},h=e('<h1 id="docker-安装-centos" tabindex="-1">docker 安装 centos <a class="header-anchor" href="#docker-安装-centos" aria-label="Permalink to &quot;docker 安装 centos&quot;">​</a></h1><p>安装centos并配置ssh 允许远程SSH连接</p><h2 id="拉取镜像" tabindex="-1">拉取镜像 <a class="header-anchor" href="#拉取镜像" aria-label="Permalink to &quot;拉取镜像&quot;">​</a></h2><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pull</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> centos:7</span></span></code></pre></div><h2 id="运行容器" tabindex="-1">运行容器 <a class="header-anchor" href="#运行容器" aria-label="Permalink to &quot;运行容器&quot;">​</a></h2><p><code>--privileged和/usr/sbin/init是允许你开启特权运行,否则无法执行systemctl</code></p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -itd</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 22:22</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> centos7</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --privileged</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> centos:7</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/sbin/init</span></span></code></pre></div><h2 id="进入容器" tabindex="-1">进入容器 <a class="header-anchor" href="#进入容器" aria-label="Permalink to &quot;进入容器&quot;">​</a></h2><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> exec</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -it</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> centos7</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /bin/bash</span></span></code></pre></div><h2 id="安装ssh" tabindex="-1">安装ssh <a class="header-anchor" href="#安装ssh" aria-label="Permalink to &quot;安装ssh&quot;">​</a></h2><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yum</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> openssh-server</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> openssh-clients</span></span></code></pre></div><h2 id="修改配置" tabindex="-1">修改配置 <a class="header-anchor" href="#修改配置" aria-label="Permalink to &quot;修改配置&quot;">​</a></h2><p>开启允许root登录,取消前面的注释# PermitRootLogin yes 将UseDNS 改成no</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vi</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/ssh/sshd_config</span></span></code></pre></div><h2 id="重启sshd服务" tabindex="-1">重启sshd服务 <a class="header-anchor" href="#重启sshd服务" aria-label="Permalink to &quot;重启sshd服务&quot;">​</a></h2><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> restart</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sshd</span></span></code></pre></div><h2 id="设置root密码" tabindex="-1">设置root密码 <a class="header-anchor" href="#设置root密码" aria-label="Permalink to &quot;设置root密码&quot;">​</a></h2><div class="language-sj vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sj</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>passwd</span></span></code></pre></div><p>参考：</p><p><a href="https://cloud.tencent.com/developer/article/2298371?from=15425" target="_blank" rel="noreferrer">https://cloud.tencent.com/developer/article/2298371?from=15425</a></p>',20),n=[h];function l(p,o,d,r,c,k){return i(),a("div",null,n)}const u=s(t,[["render",l]]);export{F as __pageData,u as default};
